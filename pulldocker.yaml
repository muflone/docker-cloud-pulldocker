NAME: Common
COMMON: true
STATUS: true
REMOTES:
  - origin
TAGS:
COMPOSE_FILE: docker-compose.yaml
COMPOSE_EXEC:
DETACHED: true
BUILD: false
RECREATE: true
PROGRESS: true
BEGIN:
  - printf '${DATE} ${TIME} BEGIN  %-20s ${COMMIT_HASH} %-4d ${COMMIT_DATE} ${COMMIT_TIME} > ${COMMIT_SUMMARY}\n' '${NAME}' '${COMMITS_COUNT}'
BEFORE:
  - printf '${DATE} ${TIME} BEFORE %-20s Deploying update...\n' '${NAME}'
AFTER:
  - printf '${DATE} ${TIME} AFTER  %-20s Deployment completed\n' '${NAME}'
END:
  - printf '${DATE} ${TIME} END    %-20s ${COMMIT_HASH} %-4d ${COMMIT_DATE} ${COMMIT_TIME} > ${COMMIT_SUMMARY}\n' '${NAME}' '${COMMITS_COUNT}'
---
NAME: Pulldocker
REPOSITORY_DIR: /opt/pulldocker
COMMAND: "systemctl daemon-reload"
---
NAME: Borgmatic
REPOSITORY_DIR: /opt/docker-compose/cloud8-borgmatic
---
NAME: MariaDB
REPOSITORY_DIR: /opt/docker-compose/cloud8-mariadb
---
NAME: Nextcloud
REPOSITORY_DIR: /opt/docker-compose/cloud8-nextcloud
AFTER:
  - printf '${DATE} ${TIME} AFTER  %-20s Upgrading nextcloud...\n' '${NAME}'
  - ./nextcloud_upgrade.sh
  - printf '${DATE} ${TIME} AFTER  %-20s Executing nextcloud cron jobs...\n' '${NAME}'
  - ./nextcloud_cron.sh
  - printf '${DATE} ${TIME} AFTER  %-20s Deployment completed\n' '${NAME}'
---
NAME: NGINX PM
REPOSITORY_DIR: /opt/docker-compose/cloud8-nginx-proxy-manager
---
NAME: NGINX
REPOSITORY_DIR: /opt/docker-compose/cloud8-nginx
---
NAME: Pastey
REPOSITORY_DIR: /opt/docker-compose/cloud8-pastey
---
NAME: Uptime
REPOSITORY_DIR: /opt/docker-compose/cloud8-uptime-kuma
---
NAME: Yourls
REPOSITORY_DIR: /opt/docker-compose/cloud8-yourls
---

